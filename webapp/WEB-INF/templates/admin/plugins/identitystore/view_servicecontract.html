<#include "./adminidentities_tabs.html" />
<@tabs tab="servicecontract" />

<@rowBox>
    <@boxHeader i18nTitleKey="identitystore.view_servicecontract.pageTitle">
	<@headerButtons>
    <a href="${back_url!''}"
       class="btn btn-secondary" >
        #i18n{portal.util.labelBack}
    </a>
	</@headerButtons>
    </@boxHeader>
    <@boxBody>    
    <@messages infos=infos />
    <div class="clearfix"></div>
    
    <@table>
        <thead>
            <th>#i18n{identitystore.manage_servicecontracts.columnName}</th>
            <th>#i18n{identitystore.manage_servicecontracts.columnClientCode}</th>
            <th>#i18n{identitystore.manage_servicecontracts.columnMoaEntityName}</th>
            <th>#i18n{identitystore.manage_servicecontracts.columnMoaContactName}</th>
            <th>#i18n{identitystore.manage_servicecontracts.columnMoeEntityName}</th>
            <th>#i18n{identitystore.manage_servicecontracts.columnMoeResponsibleName}</th>
            <th>#i18n{identitystore.manage_servicecontracts.columnServiceType}</th>
            <th>#i18n{identitystore.manage_servicecontracts.columnDataRetention}</th>
            <th>#i18n{identitystore.manage_servicecontracts.columnStartingDate}</th>
            <th>#i18n{identitystore.manage_servicecontracts.columnEndingDate}</th>
        </thead>
		<tbody>
        <tr>
            <input type="hidden" id="id" name="id"/>
            <td>
                ${servicecontract.name}
            </td>
            <td>
                ${code_client_app}
            </td>
            <td>
                ${servicecontract.moaEntityName}
            </td>
            <td>
                ${servicecontract.moaContactName}
            </td>
            <td>
                ${servicecontract.moeEntityName}
            </td>
            <td>
                ${servicecontract.moeResponsibleName}
            </td>
            <td>
                ${servicecontract.serviceType}
            </td>
            <td>
                ${servicecontract.dataRetentionPeriodInMonths}
            </td>
            <td>
                ${servicecontract.startingDate}
            </td>
            <td>
                ${servicecontract.endingDate!}
            </td>
        </tr>
		</tbody>
    </@table>

    <div class="clearfix"></div>

    <@table>
    <thead>
    <input type="hidden" id="id" name="id"/>
    <th>#i18n{identitystore.manage_servicecontracts.columnAuthorizedCreation}</th>
    <th>#i18n{identitystore.manage_servicecontracts.columnAuthorizedUpdate}</th>
    <th>#i18n{identitystore.manage_servicecontracts.columnAuthorizedSearch}</th>
    <th>#i18n{identitystore.manage_servicecontracts.columnAuthorizedMerge}</th>
    <th>#i18n{identitystore.manage_servicecontracts.columnAuthorizedAccountUpdate}</th>
    </thead>
    <tbody>
    <tr>
        <input type="hidden" id="id" name="id"/>
        <td>
            <#if servicecontract.authorizedCreation = true>
                <i class="fas fa-check" aria-hidden="true"></i>
            <#else>
                <i class="fas fa-times" aria-hidden="true"></i>
            </#if>
        </td>
        <td>
            <#if servicecontract.authorizedUpdate = true>
                <i class="fas fa-check" aria-hidden="true"></i>
            <#else>
                <i class="fas fa-times" aria-hidden="true"></i>
            </#if>
        </td>
        <td>
            <#if servicecontract.authorizedSearch = true>
                <i class="fas fa-check" aria-hidden="true"></i>
            <#else>
                <i class="fas fa-times" aria-hidden="true"></i>
            </#if>
        </td>
        <td>
            <#if servicecontract.authorizedMerge = true>
            <i class="fas fa-check" aria-hidden="true"></i>
            <#else>
            <i class="fas fa-times" aria-hidden="true"></i>
        </#if>
        </td>
        <td>
            <#if servicecontract.authorizedAccountUpdate = true>
                <i class="fas fa-check" aria-hidden="true"></i>
            <#else>
                <i class="fas fa-times" aria-hidden="true"></i>
            </#if>
        </td>
    </tr>
    </tbody>
    </@table>
    <@table>
    <thead>
    <input type="hidden" id="id" name="id"/>
    <th>#i18n{identitystore.manage_servicecontracts.columnAuthorizedDeletion}</th>
    <th>#i18n{identitystore.manage_servicecontracts.columnAuthorizedImport}</th>
    <th>#i18n{identitystore.manage_servicecontracts.columnAuthorizedExport}</th>
    <th>#i18n{identitystore.manage_servicecontracts.columnAuthorizedDecertification}</th>
    <th>#i18n{identitystore.manage_servicecontracts.columnAuthorizedAgentHistoryRead}</th>
    </thead>
    <tbody>
    <tr>
        <td>
            <#if servicecontract.authorizedDeletion = true>
            <i class="fas fa-check" aria-hidden="true"></i>
            <#else>
            <i class="fas fa-times" aria-hidden="true"></i>
        </#if>
        </td>
        <td>
            <#if servicecontract.authorizedImport = true>
            <i class="fas fa-check" aria-hidden="true"></i>
            <#else>
            <i class="fas fa-times" aria-hidden="true"></i>
        </#if>
        </td>
        <td>
            <#if servicecontract.authorizedExport = true>
            <i class="fas fa-check" aria-hidden="true"></i>
            <#else>
            <i class="fas fa-times" aria-hidden="true"></i>
        </#if>
        </td>
        <td>
            <#if servicecontract.authorizedDecertification = true>
            <i class="fas fa-check" aria-hidden="true"></i>
            <#else>
            <i class="fas fa-times" aria-hidden="true"></i>
        </#if>
        </td>
        <td>
            <#if servicecontract.authorizedAgentHistoryRead = true>
            <i class="fas fa-check" aria-hidden="true"></i>
            <#else>
            <i class="fas fa-times" aria-hidden="true"></i>
        </#if>
        </td>
    </tr>
    </tbody>
    </@table>

<div class="clearfix"></div>
<@table>
<tr>
    <th>#i18n{identitystore.modify_servicecontract.labelAttributeName}</th>
    <th>#i18n{identitystore.modify_servicecontract.labelMandatory}</th>
    <th>#i18n{identitystore.modify_servicecontract.labelSearchable}</th>
    <th>#i18n{identitystore.modify_servicecontract.labelReadable}</th>
    <th>#i18n{identitystore.modify_servicecontract.labelLevel}</th>
    <th>#i18n{identitystore.modify_servicecontract.labelWritable}</th>
    <th>#i18n{identitystore.modify_servicecontract.labelProcessus}</th>
</tr>

<#if servicecontract_attribute_list?? && servicecontract_attribute_list?has_content>
<#list servicecontract_attribute_list as attribute>
<tr>
    <td>
        ${attribute.attributeKey.name!}
    </td>
    <td>
        <#if attribute.attributeRight.mandatory = true>
            <i class="fas fa-check" aria-hidden="true"></i>
        <#else>
            <i class="fas fa-times" aria-hidden="true"></i>
        </#if>
    </td>
    <td>
        <#if attribute.attributeRight.searchable = true>
        <i class="fas fa-check" aria-hidden="true"></i>
        <#else>
        <i class="fas fa-times" aria-hidden="true"></i>
        </#if>
    </td>
    <td>
        <#if attribute.attributeRight.readable = true>
            <i class="fas fa-check" aria-hidden="true"></i>
        <#else>
            <i class="fas fa-times" aria-hidden="true"></i>
        </#if>
    </td>
    <td>

        <#if attribute.refCertificationLevel?? && attribute.refCertificationLevel.level??>
            ${attribute.refCertificationLevel.level}
        </#if>
    </td>
    <td>
        <#if attribute.attributeRight.writable = true>
            <i class="fas fa-check" aria-hidden="true"></i>
        <#else>
            <i class="fas fa-times" aria-hidden="true"></i>
        </#if>
    </td>
    <td>
        <#if attribute.refAttributeCertificationProcessus?? && attribute.refAttributeCertificationProcessus?has_content>
            ${attribute.displayProcessus}
        </#if>
    </td>
</tr>
</#list>
</#if>
</@table>

</@boxBody>
<div class="clearfix"></div>
<!--<form class="form-inline pull-right" method="post" name="manage_clientapplications" action="jsp/admin/plugins/identitystore/ManageClientApplications.jsp">-->
<!--    <button class="btn btn-secondary btn-flat" type="submit">-->
<!--        <i class="fa fa-close"></i>-->
<!--        #i18n{portal.util.labelBack}-->
<!--    </button>-->
<!--</form>-->
<div class="form-inline pull-right">
    <a href="${back_url!''}"
       class="btn btn-secondary" >
        #i18n{portal.util.labelBack}
    </a>
</div>
</@rowBox>
<style>
    .fa-times {
        color: red;
    }
    .fa-check {
        color: green;
    }
</style>