{"swagger":"2.0","info":{"description":"This API can be used by client application to manage identities according to their contrat definition","version":"V3","title":"Identity store API"},"tags":[{"name":"restidentitystorev3identity"},{"name":"restidentitystorev3contract"}],"consumes":["application/json"],"produces":["application/json"],"paths":{"/rest/identitystore/v3/identity/search":{"post":{"tags":["restidentitystorev3identity"],"summary":"Search an identity by a set of attributes","operationId":"searchIdentities","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"Request body","description":"Identity Search Request","required":false,"schema":{"$ref":"#/definitions/identity_search"}},{"name":"client_code","in":"header","description":"Client application code of the requester that is used to validate every request over its service contract","required":false,"type":"string"}],"responses":{"200":{"description":"Identity Found"},"400":{"description":"An error occured during the treatment. with explanation message"},"403":{"description":"Failure"},"404":{"description":"No identity found"}}}},"/rest/identitystore/v3/identity/index":{"post":{"tags":["restidentitystorev3identity"],"operationId":"fullIndex","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"client_code","in":"header","required":false,"type":"string"}],"responses":{"default":{"description":"successful operation"}}}},"/rest/identitystore/v3/identity":{"post":{"tags":["restidentitystorev3identity"],"summary":"Create a new Identity","description":"The creation is conditioned by the service contract definition associated to the client application code.","operationId":"createIdentity","consumes":["application/json"],"parameters":[{"in":"body","name":"Request body","description":"An Identity Change Request","required":false,"schema":{"$ref":"#/definitions/identity_change"}},{"name":"client_code","in":"header","description":"Client application code of the requester that is used to validate every request over its service contract","required":false,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/IdentityChangeResponse"}},"201":{"description":"Success"},"400":{"description":"An error occured during the treatment. with explanation message"},"403":{"description":"Failure"},"404":{"description":"No identity found"},"409":{"description":"Conflict"}}},"delete":{"tags":["restidentitystorev3identity"],"operationId":"deleteIdentity","produces":["application/json"],"parameters":[{"name":"connection_id","in":"query","required":false,"type":"string"},{"name":"client_code","in":"header","required":false,"type":"string"},{"name":"client_code","in":"query","required":false,"type":"string"}],"responses":{"default":{"description":"successful operation"}}}},"/rest/identitystore/v3/identity/{customer_id}":{"get":{"tags":["restidentitystorev3identity"],"summary":"Get an identity by its customer ID (CUID)","operationId":"getIdentity","produces":["application/json"],"parameters":[{"name":"customer_id","in":"path","description":"Customer ID of the requested identity","required":true,"type":"string"},{"name":"client_code","in":"header","description":"Client application code of the requester that is used to validate every request over its service contract","required":false,"type":"string"}],"responses":{"200":{"description":"Identity Found"},"400":{"description":"An error occured during the treatment. with explanation message"},"403":{"description":"Failure"},"404":{"description":"No identity found"}}},"put":{"tags":["restidentitystorev3identity"],"summary":"Updates an existing Identity","description":"The update is conditioned by the service contract definition associated to the client application code.","operationId":"updateIdentity","consumes":["application/json"],"parameters":[{"in":"body","name":"Request body","description":"An Identity Change Request","required":false,"schema":{"$ref":"#/definitions/identity_change"}},{"name":"customer_id","in":"path","description":"Customer ID of the updated identity","required":true,"type":"string"},{"name":"client_code","in":"header","description":"Client application code of the requester that is used to validate every request over its service contract","required":false,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/IdentityChangeResponse"}},"201":{"description":"Success"},"400":{"description":"An error occured during the treatment. with explanation message"},"403":{"description":"Failure"},"404":{"description":"No identity found"},"409":{"description":"Conflict"}}}},"/rest/identitystore/v3/identity/merge":{"post":{"tags":["restidentitystorev3identity"],"summary":"Merges two existing Identities","description":"The merge is conditioned by the service contract definition associated to the client application code.","operationId":"mergeIdentities","consumes":["application/json"],"parameters":[{"in":"body","name":"Request body","description":"An Identity Merge Request","required":false,"schema":{"$ref":"#/definitions/identity_merge"}},{"name":"client_code","in":"header","description":"Client application code of the requester that is used to validate every request over its service contract","required":false,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/IdentityMergeResponse"}},"201":{"description":"Success"},"400":{"description":"An error occured during the treatment. with explanation message"},"403":{"description":"Failure"},"404":{"description":"No identity found"}}}},"/rest/identitystore/v3/identity/import":{"post":{"tags":["restidentitystorev3identity"],"summary":"Import an Identity","description":"The import is conditioned by the service contract definition associated to the client application code.","operationId":"importMediationIdentity","consumes":["application/json"],"parameters":[{"in":"body","name":"Request body","description":"An Identity Change Request","required":false,"schema":{"$ref":"#/definitions/identity_change"}},{"name":"client_code","in":"header","description":"Client application code of the requester that is used to validate every request over its service contract","required":false,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/IdentityMergeResponse"}},"201":{"description":"Success"},"400":{"description":"An error occured during the treatment. with explanation message"},"403":{"description":"Failure"},"404":{"description":"No identity found"},"409":{"description":"Conflict"}}}},"/rest/identitystore/v3/contract":{"get":{"tags":["restidentitystorev3contract"],"summary":"Get the active service contract associated to the givent application client code","operationId":"getServiceContract","produces":["application/json"],"parameters":[{"name":"client_code","in":"header","description":"Client application code of the requester that is used to validate every request over its service contract","required":false,"type":"string"}],"responses":{"200":{"description":"Identity Found"},"400":{"description":"An error occured during the treatment. with explanation message"},"403":{"description":"Failure"},"404":{"description":"No service contract found"}}}}},"definitions":{"CertifiedAttribute":{"type":"object","properties":{"key":{"type":"string"},"value":{"type":"string"},"type":{"type":"string"},"certificationLevel":{"type":"integer","format":"int32"},"certifier":{"type":"string"},"certificationDate":{"type":"string","format":"date-time"}}},"IdentitySearchMessage":{"type":"object","properties":{"message":{"type":"string"},"attributeName":{"type":"string"}}},"IdentitySearchResponse":{"type":"object","properties":{"identities":{"type":"array","items":{"$ref":"#/definitions/QualifiedIdentity"}},"status":{"type":"string","enum":["SUCCESS","FAILURE","NOT_FOUND"]},"alerts":{"type":"array","items":{"$ref":"#/definitions/IdentitySearchMessage"}}}},"QualifiedIdentity":{"type":"object","properties":{"scoring":{"type":"number","format":"double"},"quality":{"type":"number","format":"double"},"coverage":{"type":"integer","format":"int32"},"connection_id":{"type":"string"},"customer_id":{"type":"string"},"attributes":{"type":"array","items":{"$ref":"#/definitions/CertifiedAttribute"}},"creation_date":{"type":"string","format":"date-time"},"last_update_date":{"type":"string","format":"date-time"}}},"SearchAttributeDto":{"type":"object","properties":{"key":{"type":"string"},"value":{"type":"string"},"strict":{"type":"boolean"}}},"SearchDto":{"type":"object","properties":{"attribute_values":{"type":"array","items":{"$ref":"#/definitions/SearchAttributeDto"}}}},"identity_search":{"type":"object","properties":{"max":{"type":"integer","format":"int32"},"connected":{"type":"boolean"},"connectionId":{"type":"string"},"search":{"$ref":"#/definitions/SearchDto"}}},"AttributeStatus":{"type":"object","properties":{"key":{"type":"string"},"status":{"type":"string","enum":["CREATED","UPDATED","NOT_UPDATED","MERGED","NOT_FOUND","INSUFFICIENT_CERTIFICATION_LEVEL","INSUFFICIENT_RIGHTS","UNAUTHORIZED"]}}},"DuplicateDto":{"type":"object","properties":{"message":{"type":"string"},"identities":{"type":"array","items":{"$ref":"#/definitions/QualifiedIdentity"}},"strict":{"type":"boolean"}}},"Identity":{"type":"object","properties":{"connection_id":{"type":"string"},"customer_id":{"type":"string"},"attributes":{"type":"array","items":{"$ref":"#/definitions/CertifiedAttribute"}}}},"IdentityChangeResponse":{"type":"object","properties":{"status":{"type":"string","enum":["CREATE_SUCCESS","CREATE_INCOMPLETE_SUCCESS","UPDATE_SUCCESS","UPDATE_INCOMPLETE_SUCCESS","CONFLICT","NOT_FOUND","FAILURE"]},"message":{"type":"string"},"customer_id":{"type":"string"},"connection_id":{"type":"string"},"creation_date":{"type":"string","format":"date-time"},"last_update_date":{"type":"string","format":"date-time"},"attributes_status":{"type":"array","items":{"$ref":"#/definitions/AttributeStatus"}},"duplicates":{"$ref":"#/definitions/DuplicateDto"},"identity":{"$ref":"#/definitions/Identity"}}},"RequestAuthor":{"type":"object","properties":{"author_name":{"type":"string"},"author_type":{"type":"string","enum":["owner","admin","application"]}}},"identity_change":{"type":"object","properties":{"origin":{"$ref":"#/definitions/RequestAuthor"},"identity":{"$ref":"#/definitions/Identity"}}},"IdentityMergeResponse":{"type":"object","properties":{"status":{"type":"string","enum":["SUCCESS","FAILURE"]},"customer_id":{"type":"string"},"attributes_status":{"type":"array","items":{"$ref":"#/definitions/AttributeStatus"}},"message":{"type":"array","items":{"type":"string"}}}},"Identities":{"type":"object","properties":{"primary_connection_id":{"type":"string"},"secondary_connection_id":{"type":"string"}}},"identity_merge":{"type":"object","properties":{"origin":{"$ref":"#/definitions/RequestAuthor"},"identities":{"$ref":"#/definitions/Identities"}}},"AttributeDefinitionDto":{"type":"object","properties":{"attributeRequirement":{"$ref":"#/definitions/AttributeRequirement"},"attributeRight":{"$ref":"#/definitions/AttributeRight"},"attributeCertifications":{"type":"array","items":{"$ref":"#/definitions/CertificationProcessus"}},"description":{"type":"string"},"type":{"type":"string","enum":["STRING","NUMERIC","FILE","DATE"]},"keyName":{"type":"string"},"certifiable":{"type":"boolean"},"pivot":{"type":"boolean"},"keyWeight":{"type":"integer","format":"int32"},"name":{"type":"string"}}},"AttributeRequirement":{"type":"object","properties":{"level":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"}}},"AttributeRight":{"type":"object","properties":{"readable":{"type":"boolean"},"writable":{"type":"boolean"},"searchable":{"type":"boolean"}}},"CertificationProcessus":{"type":"object","properties":{"level":{"type":"string"},"code":{"type":"string"},"label":{"type":"string"}}},"ServiceContractDto":{"type":"object","properties":{"attributeDefinitions":{"type":"array","items":{"$ref":"#/definitions/AttributeDefinitionDto"}},"organizationalEntity":{"type":"string"},"responsibleName":{"type":"string"},"contactName":{"type":"string"},"serviceType":{"type":"string"},"startingDate":{"type":"string","format":"date-time"},"endingDate":{"type":"string","format":"date-time"},"authorizedMerge":{"type":"boolean"},"authorizedAccountUpdate":{"type":"boolean"},"authorizedDeletion":{"type":"boolean"},"authorizedImport":{"type":"boolean"},"authorizedExport":{"type":"boolean"},"isAuthorizedDeleteValue":{"type":"boolean"},"isAuthorizedDeleteCertificate":{"type":"boolean"},"name":{"type":"string"}}},"ServiceContractSearchResponse":{"type":"object","properties":{"serviceContract":{"$ref":"#/definitions/ServiceContractDto"},"status":{"type":"string","enum":["SUCCESS","FAILURE","NOT_FOUND"]}}}},"externalDocs":{"description":"Lutèce WIKI","url":"https://lutece.paris.fr/support/jsp/site/Portal.jsp?page=wiki&view=page&page_name=gru_appeldirect_identitystore_v3"}}